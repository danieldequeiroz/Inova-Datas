<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contador de Dias Úteis</title>
</head>
<body>

<h2>Contador de Dias Úteis em 2022</h2>
<p id="result"></p>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>

<script>
    // JSON de feriados no lugar do feriados.json
    const feriados = [
        { "date": "2022-01-01", "name": "Ano Novo" },
        { "date": "2022-02-12", "name": "Carnaval" },
        { "date": "2022-04-15", "name": "Paixão de Cristo" },
        { "date": "2022-04-21", "name": "Tiradentes" },
        { "date": "2022-05-01", "name": "Dia do Trabalho" },
        { "date": "2022-05-30", "name": "Corpus Christi" },
        { "date": "2022-06-24", "name": "Dia de São João" },
        { "date": "2022-08-05", "name": "Aniversário da Cidade" },
        { "date": "2022-09-07", "name": "Dia da Independência" },
        { "date": "2022-10-12", "name": "Dia de Nossa Senhora Aparecida" },
        { "date": "2022-10-28", "name": "Dia do Servidor Público" },
        { "date": "2022-11-02", "name": "Dia de Finados" },
        { "date": "2022-11-15", "name": "Dia da Proclamação da República" },
        { "date": "2022-11-20", "name": "Dia da Consciência Negra" },
        { "date": "2022-12-08", "name": "Dia de Nossa Senhora da Conceição" },
        { "date": "2022-12-25", "name": "Natal" }
    ];

    const startDate = moment('2022-01-01'); // Data de início
    const endDate = moment('2022-12-31'); // Data de término
    let totalDays = 0; // Contador de dias úteis

    // Função para verificar se um dia é feriado
    function isHoliday(day, holidays) {
        return holidays.some(holiday => holiday.date === day.format('YYYY-MM-DD'));
    }

    // Loop para contar os dias úteis
    for (let day = startDate; day <= endDate; day.add(1, 'days')) {
        // Se o dia não for sábado ou domingo, e não for feriado, incrementa o contador
        if (day.isoWeekday() !== 6 && day.isoWeekday() !== 7 && !isHoliday(day, feriados)) {
            totalDays++;
        }
    }

    // Exibe o resultado na página
    document.getElementById('result').textContent = `O número de dias úteis entre as datas é: ${totalDays}`;
</script>

</body>
</html>
